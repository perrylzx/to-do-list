(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{21:function(t,e,n){t.exports=n(30)},30:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),c=n(6),i=n(2),u=n(4),a=n(13),l=n(14),s=n(18),d=n(3),f={isFetching:!1,todos:[]},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REQUEST_ADD_TODO":return Object(d.a)({},t,{isFetching:!0});case"RECEIVE_ADD_TODO":return Object(d.a)({},t,{isFetching:!1,todos:[].concat(Object(s.a)(t.todos),[{id:e.id,value:e.value,completed:e.completed}])});case"REQUEST_TODOS":return Object(d.a)({},t,{isFetching:!0});case"RECEIVE_TODOS":return Object(d.a)({},t,{isFetching:!1,todos:e.todos});case"REQUEST_TOGGLE_TODO":return Object(d.a)({},t,{isFetching:!0});case"RECEIVE_TOGGLE_TODO":return Object(d.a)({},t,{isFetching:!1,todos:t.todos.map((function(t){return t.id===e.updatedTodo.id?Object(d.a)({},t,{completed:e.updatedTodo.completed}):t}))});default:return t}},E="SHOW_ALL",O="SHOW_COMPLETED",h="SHOW_ACTIVE",m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_VISIBILITY_FILTER":return e.filter;default:return t}},T=Object(u.c)({todos:p,visibilityFilter:m}),b=Object(l.createLogger)(),v=function(t){var e=t.active,n=t.children,r=t.onClick;return o.a.createElement("button",{onClick:r,disabled:e,style:{marginLeft:"4px"}},n)},j=Object(i.b)((function(t,e){return{active:e.filter===t.visibilityFilter}}),(function(t,e){return{onClick:function(){return t({type:"SET_VISIBILITY_FILTER",filter:e.filter})}}}))(v),_=function(){return o.a.createElement("div",null,o.a.createElement("span",null,"Show: "),o.a.createElement(j,{filter:E},"All"),o.a.createElement(j,{filter:h},"Active"),o.a.createElement(j,{filter:O},"Completed"))},y=Object(i.b)()((function(t){var e,n=t.dispatch;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:function(t){var r;(t.preventDefault(),e.value.trim())&&(n((r=e.value,function(t){return t({type:"REQUEST_ADD_TODO"}),fetch("".concat("https://powerful-fortress-54332.herokuapp.com","/create-todo"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:r})}).then((function(t){return t.json()})).then((function(e){return t(function(t){return{type:"RECEIVE_ADD_TODO",id:t.id,value:t.value,completed:t.completed}}(e))}))})),e.value="")}},o.a.createElement("input",{ref:function(t){return e=t}}),o.a.createElement("button",{type:"submit"},"Add Todo")))})),g=n(15),D=n(16),S=n(19),C=n(17),I=n(20),k=function(t){var e=t.onClick,n=t.completed,r=t.value;return o.a.createElement("li",{onClick:e,style:{textDecoration:n?"line-through":"none"}},r)},R=function(t){function e(){return Object(g.a)(this,e),Object(S.a)(this,Object(C.a)(e).apply(this,arguments))}return Object(I.a)(e,t),Object(D.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTodo()}},{key:"render",value:function(){var t=this.props,e=t.todos,n=t.toggleTodo;return o.a.createElement("ul",null,e.map((function(t){return o.a.createElement(k,Object.assign({key:t.id},t,{onClick:function(){return n(t.id)}}))})))}}]),e}(o.a.Component),L=function(t,e){switch(e){case E:return t;case O:return t.filter((function(t){return t.completed}));case h:return t.filter((function(t){return!t.completed}));default:throw new Error("Unknown filter: "+e)}},w=Object(i.b)((function(t){return{todos:L(t.todos.todos,t.visibilityFilter)}}),(function(t){return{fetchTodo:function(){return t((function(t){return console.log("success"),t({type:"REQUEST_TODOS"}),fetch("".concat("https://powerful-fortress-54332.herokuapp.com","/request-todo")).then((function(t){return t.json()})).then((function(e){return t({type:"RECEIVE_TODOS",todos:e})}))}))},toggleTodo:function(e){return t(function(t){return function(e){return e(function(t){return{type:"REQUEST_TOGGLE_TODO",id:t}}()),fetch("".concat("https://powerful-fortress-54332.herokuapp.com","/update-todo"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(t){return t.json()})).then((function(t){return e(function(t){return{type:"RECEIVE_TOGGLE_TODO",updatedTodo:t}}(t))}))}}(e))}}}))(R),F=function(){return o.a.createElement("div",null,o.a.createElement(y,null),o.a.createElement(w,null),o.a.createElement(_,null))},A=Object(u.d)(T,Object(u.a)(a.a,b));Object(c.render)(o.a.createElement(i.a,{store:A},o.a.createElement(F,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.77301d40.chunk.js.map